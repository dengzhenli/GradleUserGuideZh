

[ Gradle ](https://docs.gradle.org "Gradle Docs")

User Manual

  * Community Open Community Menu

[ Community Home ](https://gradle.org/)

[ Community Forums ](https://discuss.gradle.org/)

[ Community Plugins ](https://plugins.gradle.org)

  * [Training](https://gradle.com/training/)
  * News Open Community Menu

[ Newsletter ](https://newsletter.gradle.com)

[ Blog ](https://blog.gradle.org)

[ Twitter ](https://twitter.com/gradle)

  * [Enterprise](https://gradle.com)
  * [github](https://github.com/gradle/gradle "Gradle on GitHub")

  * [Docs Home](../userguide/userguide.html)
  * [Samples](../samples/index.html)
  * [Release Notes](../release-notes.html)
  * Gradle DSLs and API
    * [Javadoc](../javadoc/index.html?overview-summary.html)
    * [Groovy DSL Reference](../dsl/index.html)
    * [Groovy DSL Primer](../userguide/groovy_build_script_primer.html)
    * [Kotlin DSL API](https://gradle.github.io/kotlin-dsl-docs/api/)
    * [Kotlin DSL Primer](../userguide/kotlin_dsl.html)
    * [Groovy to Kotlin DSL Migration](../userguide/migrating_from_groovy_to_kotlin_dsl.html)

### User Manual

[ PDF ](../userguide/userguide.pdf)

  * [What is Gradle?](../userguide/what_is_gradle.html)
  * [Getting Started](../userguide/getting_started.html)
  * [Installing Gradle](../userguide/installation.html)
  * Upgrading Gradle...
    * [version 6.X to latest](../userguide/upgrading_version_6.html)
    * [version 5.X to 6.0](../userguide/upgrading_version_5.html)
    * [version 4.X to 5.0](../userguide/upgrading_version_4.html)
    * [Gradle's Feature Lifecycle](../userguide/feature_lifecycle.html)
  * Migrating to Gradle...
    * [from Maven](../userguide/migrating_from_maven.html)
    * [from Ant](../userguide/migrating_from_ant.html)
  * [Compatibility Notes](../userguide/compatibility.html)
  * [Troubleshooting Builds](../userguide/troubleshooting.html)

### Running Gradle Builds

  * Customizing Execution
    * [Configuring the Build Environment](../userguide/build_environment.html)
    * [Configuring the Gradle Daemon](../userguide/gradle_daemon.html)
    * [Using Initialization Scripts](../userguide/init_scripts.html)
  * [Executing Multi-Project Builds](../userguide/intro_multi_project_builds.html)
  * [Inspecting Gradle Builds](https://scans.gradle.com/)
  * Using the Build Cache
    * [Enabling and Configuring](../userguide/build_cache.html)
    * [Why use the Build Cache?](../userguide/build_cache_use_cases.html)
    * [Understanding the Impact](../userguide/build_cache_performance.html)
    * [Learning Basic Concepts](../userguide/build_cache_concepts.html)
    * [Caching Java Project](../userguide/caching_java_projects.html)
    * [Caching Android Project](../userguide/caching_android_projects.html)
    * [Debugging Caching Issues](../userguide/build_cache_debugging.html)
    * [Troubleshooting](../userguide/common_caching_problems.html)
  * Optimizing Build Times
    * [Improving Performance of Gradle Builds](../userguide/performance.html)
    * [Using the Configuration Cache](../userguide/configuration_cache.html)

### Authoring Gradle Builds

  * Learning the Basics
    * [Writing Build Scripts](../userguide/tutorial_using_tasks.html)
    * [Working with Tasks](../userguide/more_about_tasks.html)
    * [Learning More About Build Scripts](../userguide/writing_build_scripts.html)
    * [Working with Files](../userguide/working_with_files.html)
    * [Using Gradle Plugins](../userguide/plugins.html)
    * [Understanding the Build Lifecycle](../userguide/build_lifecycle.html)
    * [Working with Logging](../userguide/logging.html)
    * [Avoiding Traps](../userguide/potential_traps.html)
  * Structuring Individual Builds
    * [Creating a Basic Multi-Project Build](../userguide/multi_project_builds.html)
    * [Declaring Dependencies between Subprojects](../userguide/declaring_dependencies_between_subprojects.html)
    * [Sharing Build Logic between Subprojects](../userguide/sharing_build_logic_between_subprojects.html)
    * [Fine Tuning the Project Layout](../userguide/fine_tuning_project_layout.html)
    * [Understanding Configuration and Execution](../userguide/multi_project_configuration_and_execution.html)
  * Structuring Software Products
    * [Structuring large Projects](../userguide/structuring_software_products.html)
    * [Tweaking Project Structure](../userguide/structuring_software_products_details.html)
    * [Composing Builds](../userguide/composite_builds.html)
  * Authoring Sustainable Builds
    * [Organizing Build Logic](../userguide/organizing_gradle_projects.html)
    * [Following Best Practices](../userguide/authoring_maintainable_build_scripts.html)
  * Advanced Techniques
    * [Testing a Build with TestKit](../userguide/test_kit.html)
    * [Using Ant from Gradle](../userguide/ant.html)

### Authoring JVM Builds

  * [Building Java & JVM projects](../userguide/building_java_projects.html)
  * [Testing Java & JVM projects](../userguide/java_testing.html)
  * [Toolchains for Java projects](../userguide/toolchains.html)
  * [Managing Dependencies](../userguide/dependency_management_for_java_projects.html)
  * JVM Plugins
    * [Java Library Plugin](../userguide/java_library_plugin.html)
    * [Java Application Plugin](../userguide/application_plugin.html)
    * [Java Platform Plugin](../userguide/java_platform_plugin.html)
    * [Groovy Plugin](../userguide/groovy_plugin.html)
    * [Scala Plugin](../userguide/scala_plugin.html)

### Authoring C++/Swift Builds

  * [Building C++ projects](../userguide/building_cpp_projects.html)
  * [Testing C++ projects](../userguide/cpp_testing.html)
  * [Building Swift projects](../userguide/building_swift_projects.html)
  * [Testing Swift projects](../userguide/swift_testing.html)

### Working with Dependencies

  * Learning the Basics
    * [What is Dependency Management?](../userguide/core_dependency_management.html)
    * [Declaring Repositories](../userguide/declaring_repositories.html)
    * [Declaring Dependencies](../userguide/declaring_dependencies.html)
    * [Understanding Library and Application Differences](../userguide/library_vs_application.html)
    * [Viewing and Debugging Dependencies](../userguide/viewing_debugging_dependencies.html)
    * [Understanding Resolution](../userguide/dependency_resolution.html)
    * [Verifying dependencies](../userguide/dependency_verification.html)
  * Declaring Versions
    * [Declaring Versions and Ranges](../userguide/single_versions.html)
    * [Declaring Rich Versions](../userguide/rich_versions.html)
    * [Handling Changing Versions](../userguide/dynamic_versions.html)
    * [Locking Versions](../userguide/dependency_locking.html)
  * Controlling Transitives
    * [Upgrading Versions](../userguide/dependency_constraints.html)
    * [Downgrading and Excluding](../userguide/dependency_downgrade_and_exclude.html)
    * [Sharing Versions](../userguide/platforms.html)
    * [Aligning Dependencies](../userguide/dependency_version_alignment.html)
    * [Handling Mutually Exclusive Dependencies](../userguide/dependency_capability_conflict.html)
    * [Fixing Metadata](../userguide/component_metadata_rules.html)
    * [Customizing Resolution](../userguide/resolution_rules.html)
    * [Preventing accidental upgrades](../userguide/resolution_strategy_tuning.html)
  * Producing and Consuming Variants of Libraries
    * [Declaring Capabilities of a Library](../userguide/component_capabilities.html)
    * [Modeling Feature Variants and Optional Dependencies](../userguide/feature_variants.html)
    * [Understanding Variant Selection](../userguide/variant_model.html)
    * [Declaring Variant Attributes](../userguide/variant_attributes.html)
    * [Sharing Outputs of Projects](../userguide/cross_project_publications.html)
    * [Transforming Artifacts](../userguide/artifact_transforms.html)
  * Publishing Libraries
    * [Setting up Publishing](../userguide/publishing_setup.html)
    * [Understanding Gradle Module Metadata](../userguide/publishing_gradle_module_metadata.html)
    * [Signing Artifacts](../userguide/publishing_signing.html)
    * [Customizing Publishing](../userguide/publishing_customization.html)
    * [Maven Publish Plugin](../userguide/publishing_maven.html)
    * [Ivy Publish Plugin](../userguide/publishing_ivy.html)
  * [Terminology](../userguide/dependency_management_terminology.html)

### Extending Gradle

  * Developing Gradle Plugins
    * [Starting Plugin Development](../userguide/custom_plugins.html)
    * [Designing Plugins](../userguide/designing_gradle_plugins.html)
    * [Implementing Plugins](../userguide/implementing_gradle_plugins.html)
    * [Testing Plugins](../userguide/testing_gradle_plugins.html)
    * [Publishing Plugins](../userguide/publishing_gradle_plugins.html)
  * Developing Gradle Tasks
    * [Writing Gradle Task Types](../userguide/custom_tasks.html)
    * [Configuring Tasks Lazily](../userguide/lazy_configuration.html)
    * [Avoiding Unnecessary Task Configuration](../userguide/task_configuration_avoidance.html)
    * [Developing Parallel Tasks](../userguide/worker_api.html)
  * [Writing Custom Gradle Types](../userguide/custom_gradle_types.html)

### Reference

  * [Core Plugins](../userguide/plugin_reference.html)
  * [Command-Line Interface](../userguide/command_line_interface.html)
  * Gradle & Third-party Tools
    * [Third-party Tools](../userguide/third_party_integration.html)
    * [Jenkins](../userguide/jenkins.html)
    * [TeamCity](../userguide/teamcity.html)
    * [Travis CI](../userguide/travis-ci.html)
  * [](../userguide/third_party_integration.html)
  * [The Gradle Wrapper](../userguide/gradle_wrapper.html)
  * [Gradle-managed Directories](../userguide/directory_layout.html)

# Build Script Basics

version 6.9-20201126230040+0000

Contents

  * Projects, plugins and tasks
  * Hello world
  * Build scripts are code
  * Task dependencies
  * Flexible task registration
  * Manipulating existing tasks
  * Using Ant Tasks
  * Using methods
  * Default tasks
  * External dependencies for the build script
  * Further Reading

This chapter introduces you to the basics of writing Gradle build scripts. It
uses toy examples to explain basic functionality of Gradle, which is helpful
to get an understanding of the basic concepts. Especially if you move to
Gradle from other build tools like Ant and want to understand differences and
advantages.

However, to get started with a standard project setup, you don't even need to
go into these concepts in detail. Instead, you can have a quick hands-on
introduction, through our [step-by-step
samples](getting_started.html#try_gradle).

## Projects, plugins and tasks

Every Gradle build is made up of one or more _projects_. What a project
represents depends on what it is that you are doing with Gradle. For example,
a project might represent a library JAR or a web application. It might
represent a distribution ZIP assembled from the JARs produced by other
projects. A project does not necessarily represent a thing to be built. It
might represent a thing to be done, such as deploying your application to
staging or production environments. Don't worry if this seems a little vague
for now. Gradle's build-by-convention support adds a more concrete definition
for what a project is.

The work that Gradle can do on a project is defined by one or more _tasks_. A
task represents some atomic piece of work which a build performs. This might
be compiling some classes, creating a JAR, generating Javadoc, or publishing
some archives to a repository.

Typically, tasks are provided by [applying a
plugin](plugins.html#sec:plugins_block) so that you do not have to define them
yourself. Still, to give you an idea of what a taks is, we will look at
defining some simple tasks in a build with one project in this chapter.

## Hello world

You run a Gradle build using the `gradle` command. The `gradle` command looks
for a file called `build.gradle` in the current directory.[1] We call this
`build.gradle` file a _build script_ , although strictly speaking it is a
build configuration script, as we will see later. The build script defines a
project and its tasks.

To try this out, create the following build script named `build.gradle`.

You run a Gradle build using the `gradle` command. The `gradle` command looks
for a file called `build.gradle.kts` in the current directory.[2] We call this
`build.gradle.kts` file a _build script_ , although strictly speaking it is a
build configuration script, as we will see later. The build script defines a
project and its tasks.

To try this out, create the following build script named `build.gradle.kts`.

Example 1. Your first build script

build.gradle

    
    
    tasks.register('hello') {
        doLast {
            println 'Hello world!'
        }
    }

build.gradle.kts

    
    
    tasks.register("hello") {
        doLast {
            println("Hello world!")
        }
    }

In a command-line shell, move to the containing directory and execute the
build script with `gradle -q hello`:

__ |

What does `-q` do?

Most of the examples in this user guide are run with the `-q` command-line
option. This suppresses Gradle's log messages, so that only the output of the
tasks is shown. This keeps the example output in this user guide a little
clearer. You don't need to use this option if you don't want to. See
[Logging](logging.html#logging) for more details about the command-line
options which affect Gradle's output.  
  
---|---  
  
Example 2. Execution of a build script

Output of **`gradle -q hello`**

    
    
    > gradle -q hello
    Hello world!

What's going on here? This build script defines a single task, called `hello`,
and adds an action to it. When you run `gradle hello`, Gradle executes the
`hello` task, which in turn executes the action you've provided. The action is
simply a block containing some code to execute.

If you think this looks similar to Ant's targets, you would be right. Gradle
tasks are the equivalent to Ant targets, but as you will see, they are much
more powerful. We have used a different terminology than Ant as we think the
word _task_ is more expressive than the word _target_. Unfortunately this
introduces a terminology clash with Ant, as Ant calls its commands, such as
`javac` or `copy`, tasks. So when we talk about tasks, we _always_ mean Gradle
tasks, which are the equivalent to Ant's targets. If we talk about Ant tasks
(Ant commands), we explicitly say _Ant task_.

## Build scripts are code

Gradle's build scripts give you the full power of Groovy and Kotlin. As an
appetizer, have a look at this:

Example 3. Using Groovy or Kotlin in Gradle's tasks

build.gradle

    
    
    tasks.register('upper') {
        doLast {
            String someString = 'mY_nAmE'
            println "Original: $someString"
            println "Upper case: ${someString.toUpperCase()}"
        }
    }

build.gradle.kts

    
    
    tasks.register("upper") {
        doLast {
            val someString = "mY_nAmE"
            println("Original: $someString")
            println("Upper case: ${someString.toUpperCase()}")
        }
    }

Output of **`gradle -q upper`**

    
    
    > gradle -q upper
    Original: mY_nAmE
    Upper case: MY_NAME

or

Example 4. Using Groovy or Kotlin in Gradle's tasks

build.gradle

    
    
    tasks.register('count') {
        doLast {
            4.times { print "$it " }
        }
    }

build.gradle.kts

    
    
    tasks.register("count") {
        doLast {
            repeat(4) { print("$it ") }
        }
    }

Output of **`gradle -q count`**

    
    
    > gradle -q count
    0 1 2 3

## Task dependencies

As you probably have guessed, you can declare tasks that depend on other
tasks.

Example 5. Declaration of task that depends on other task

build.gradle

    
    
    tasks.register('hello') {
        doLast {
            println 'Hello world!'
        }
    }
    tasks.register('intro') {
        dependsOn tasks.hello
        doLast {
            println "I'm Gradle"
        }
    }

build.gradle.kts

    
    
    tasks.register("hello") {
        doLast {
            println("Hello world!")
        }
    }
    tasks.register("intro") {
        dependsOn("hello")
        doLast {
            println("I'm Gradle")
        }
    }

Output of **`gradle -q intro`**

    
    
    > gradle -q intro
    Hello world!
    I'm Gradle

To add a dependency, the corresponding task does not need to exist.

Example 6. Lazy dependsOn - the other task does not exist (yet)

build.gradle

    
    
    tasks.register('taskX') {
        dependsOn 'taskY'
        doLast {
            println 'taskX'
        }
    }
    tasks.register('taskY') {
        doLast {
            println 'taskY'
        }
    }

build.gradle.kts

    
    
    tasks.register("taskX") {
        dependsOn("taskY")
        doLast {
            println("taskX")
        }
    }
    tasks.register("taskY") {
        doLast {
            println("taskY")
        }
    }

Output of **`gradle -q taskX`**

    
    
    > gradle -q taskX
    taskY
    taskX

The dependency of `taskX` to `taskY` may be declared before `taskY` is
defined. Task dependencies are discussed in more detail in [Adding
dependencies to a
task](more_about_tasks.html#sec:adding_dependencies_to_tasks).

## Flexible task registration

The power of Groovy or Kotlin can be used for more than defining what a task
does For example, you can use it to register multiple tasks of the same type
in a loop.

Example 7. Felxible registration of a task

build.gradle

    
    
    4.times { counter ->
        tasks.register("task$counter") {
            doLast {
                println "I'm task number $counter"
            }
        }
    }

build.gradle.kts

    
    
    repeat(4) { counter ->
        tasks.register("task$counter") {
            doLast {
                println("I'm task number $counter")
            }
        }
    }

Output of **`gradle -q task1`**

    
    
    > gradle -q task1
    I'm task number 1

## Manipulating existing tasks

Once tasks are registered, they can be accessed via an _API_. For instance,
you could use this to dynamically add dependencies to a task, at runtime. Ant
doesn't allow anything like this.

Example 8. Accessing a task via API - adding a dependency

build.gradle

    
    
    4.times { counter ->
        tasks.register("task$counter") {
            doLast {
                println "I'm task number $counter"
            }
        }
    }
    tasks.named('task0') { dependsOn('task2', 'task3') }

build.gradle.kts

    
    
    repeat(4) { counter ->
        tasks.register("task$counter") {
            doLast {
                println("I'm task number $counter")
            }
        }
    }
    tasks.named("task0") { dependsOn("task2", "task3") }

Output of **`gradle -q task0`**

    
    
    > gradle -q task0
    I'm task number 2
    I'm task number 3
    I'm task number 0

Or you can add behavior to an existing task.

Example 9. Accessing a task via API - adding behaviour

build.gradle

    
    
    tasks.register('hello') {
        doLast {
            println 'Hello Earth'
        }
    }
    tasks.named('hello') {
        doFirst {
            println 'Hello Venus'
        }
    }
    tasks.named('hello') {
        doLast {
            println 'Hello Mars'
        }
    }
    tasks.named('hello') {
        doLast {
            println 'Hello Jupiter'
        }
    }

build.gradle.kts

    
    
    tasks.register("hello") {
        doLast {
            println("Hello Earth")
        }
    }
    tasks.named("hello") {
        doFirst {
            println("Hello Venus")
        }
    }
    tasks.named("hello") {
        doLast {
            println("Hello Mars")
        }
    }
    tasks.named("hello") {
        doLast {
            println("Hello Jupiter")
        }
    }

Output of **`gradle -q hello`**

    
    
    > gradle -q hello
    Hello Venus
    Hello Earth
    Hello Mars
    Hello Jupiter

The calls `doFirst` and `doLast` can be executed multiple times. They add an
action to the beginning or the end of the task's actions list. When the task
executes, the actions in the action list are executed in order.

## Using Ant Tasks

Ant tasks are first-class citizens in Gradle. Gradle provides excellent
integration for Ant tasks by simply relying on Groovy. Groovy is shipped with
the fantastic `AntBuilder`. Using Ant tasks from Gradle is as convenient and
more powerful than using Ant tasks from a `build.xml` file. And it is usable
from Kotlin too. From the example below, you can learn how to execute Ant
tasks and how to access Ant properties:

Example 10. Using AntBuilder to execute ant.loadfile target

build.gradle

    
    
    task loadfile {
        doLast {
            def files = file('./antLoadfileResources').listFiles().sort()
            files.each { File file ->
                if (file.isFile()) {
                    ant.loadfile(srcFile: file, property: file.name)
                    println " *** $file.name ***"
                    println "${ant.properties[file.name]}"
                }
            }
        }
    }

build.gradle.kts

    
    
    tasks.register("loadfile") {
        doLast {
            val files = file("./antLoadfileResources").listFiles().sorted()
            files.forEach { file ->
                if (file.isFile) {
                    ant.withGroovyBuilder {
                        "loadfile"("srcFile" to file, "property" to file.name)
                    }
                    println(" *** ${file.name} ***")
                    println("${ant.properties[file.name]}")
                }
            }
        }
    }

Output of **`gradle -q loadfile`**

    
    
    > gradle -q loadfile
     *** agile.manifesto.txt ***
    Individuals and interactions over processes and tools
    Working software over comprehensive documentation
    Customer collaboration  over contract negotiation
    Responding to change over following a plan
     *** gradle.manifesto.txt ***
    Make the impossible possible, make the possible easy and make the easy elegant.
    (inspired by Moshe Feldenkrais)

There is lots more you can do with Ant in your build scripts. You can find out
more in [Ant](ant.html#ant).

## Using methods

Gradle scales in how you can organize your build logic. The first level of
organizing your build logic for the example above, is extracting a method.

Example 11. Using methods to organize your build logic

build.gradle

    
    
    task checksum {
        doLast {
            fileList('./antLoadfileResources').each { File file ->
                ant.checksum(file: file, property: "cs_$file.name")
                println "$file.name Checksum: ${ant.properties["cs_$file.name"]}"
            }
        }
    }
    
    task loadfile {
        doLast {
            fileList('./antLoadfileResources').each { File file ->
                ant.loadfile(srcFile: file, property: file.name)
                println "I'm fond of $file.name"
            }
        }
    }
    
    File[] fileList(String dir) {
        file(dir).listFiles({file -> file.isFile() } as FileFilter).sort()
    }

build.gradle.kts

    
    
    tasks.register("checksum") {
        doLast {
            fileList("./antLoadfileResources").forEach { file ->
                ant.withGroovyBuilder {
                    "checksum"("file" to file, "property" to "cs_${file.name}")
                }
                println("$file.name Checksum: ${ant.properties["cs_${file.name}"]}")
            }
        }
    }
    
    tasks.register("loadfile") {
        doLast {
            fileList("./antLoadfileResources").forEach { file ->
                ant.withGroovyBuilder {
                    "loadfile"("srcFile" to file, "property" to file.name)
                }
                println("I'm fond of ${file.name}")
            }
        }
    }
    
    fun fileList(dir: String): List<File> =
        file(dir).listFiles { file: File -> file.isFile }.sorted()

Output of **`gradle -q loadfile`**

    
    
    > gradle -q loadfile
    I'm fond of agile.manifesto.txt
    I'm fond of gradle.manifesto.txt

Later you will see that such methods can be shared among subprojects in multi-
project builds. If your build logic becomes more complex, Gradle offers you
other very convenient ways to organize it. We have devoted a whole chapter to
this. See [Organizing Gradle
Projects](organizing_gradle_projects.html#organizing_gradle_projects).

## Default tasks

Gradle allows you to define one or more default tasks that are executed if no
other tasks are specified.

Example 12. Defining a default task

build.gradle

    
    
    defaultTasks 'clean', 'run'
    
    task clean {
        doLast {
            println 'Default Cleaning!'
        }
    }
    
    task run {
        doLast {
            println 'Default Running!'
        }
    }
    
    task other {
        doLast {
            println "I'm not a default task!"
        }
    }

build.gradle.kts

    
    
    defaultTasks("clean", "run")
    
    task("clean") {
        doLast {
            println("Default Cleaning!")
        }
    }
    
    tasks.register("run") {
        doLast {
            println("Default Running!")
        }
    }
    
    tasks.register("other") {
        doLast {
            println("I'm not a default task!")
        }
    }

Output of **`gradle -q`**

    
    
    > gradle -q
    Default Cleaning!
    Default Running!

This is equivalent to running `gradle clean run`. In a multi-project build
every subproject can have its own specific default tasks. If a subproject does
not specify default tasks, the default tasks of the parent project are used
(if defined).

## External dependencies for the build script

__ |  Instead of manipulating the script classpath directly, it is recommended
to [apply plugins](plugins.html) that come with their own classpath. For
custom build logic, the recommendation is to [use a custom
plugin](sharing_build_logic_between_subprojects.html).  
---|---  
  
If your build script needs to use external libraries, you can add them to the
script's classpath in the build script itself. You do this using the
`buildscript()` method, passing in a block which declares the build script
classpath.

Example 13. Declaring external dependencies for the build script

build.gradle

    
    
    buildscript {
        repositories {
            mavenCentral()
        }
        dependencies {
            classpath group: 'commons-codec', name: 'commons-codec', version: '1.2'
        }
    }

build.gradle.kts

    
    
    buildscript {
        repositories {
            mavenCentral()
        }
        dependencies {
            "classpath"(group = "commons-codec", name = "commons-codec", version = "1.2")
        }
    }

The block passed to the `buildscript()` method configures a
[ScriptHandler](../javadoc/org/gradle/api/initialization/dsl/ScriptHandler.html)
instance. You declare the build script classpath by adding dependencies to the
`classpath` configuration. This is the same way you declare, for example, the
Java compilation classpath. You can use any of the [dependency
types](declaring_dependencies.html#sec:dependency-types) except project
dependencies.

Having declared the build script classpath, you can use the classes in your
build script as you would any other classes on the classpath. The following
example adds to the previous example, and uses classes from the build script
classpath.

Example 14. A build script with external dependencies

build.gradle

    
    
    import org.apache.commons.codec.binary.Base64
    
    buildscript {
        repositories {
            mavenCentral()
        }
        dependencies {
            classpath group: 'commons-codec', name: 'commons-codec', version: '1.2'
        }
    }
    
    task encode {
        doLast {
            def byte[] encodedString = new Base64().encode('hello world\n'.getBytes())
            println new String(encodedString)
        }
    }

build.gradle.kts

    
    
    import org.apache.commons.codec.binary.Base64
    
    buildscript {
        repositories {
            mavenCentral()
        }
        dependencies {
            "classpath"(group = "commons-codec", name = "commons-codec", version = "1.2")
        }
    }
    
    tasks.register("encode") {
        doLast {
            val encodedString = Base64().encode("hello world\n".toByteArray())
            println(String(encodedString))
        }
    }

Output of **`gradle -q encode`**

    
    
    > gradle -q encode
    aGVsbG8gd29ybGQK

For multi-project builds, the dependencies declared with a project's
`buildscript()` method are available to the build scripts of all its sub-
projects.

Build script dependencies may be Gradle plugins. Please consult [Using Gradle
Plugins](plugins.html#plugins) for more information on Gradle plugins.

Every project automatically has a `buildEnvironment` task of type
[BuildEnvironmentReportTask](../dsl/org.gradle.api.tasks.diagnostics.BuildEnvironmentReportTask.html)
that can be invoked to report on the resolution of the build script
dependencies.

## Further Reading

This chapter only scratched the surface with what's possible. Here are some
other topics that may be interesting:

  * [Authoring maintainable build scripts](authoring_maintainable_build_scripts.html#authoring_maintainable_build_scripts)

  * [Organizing your Gradle projects](organizing_gradle_projects.html#organizing_gradle_projects)

  * [Writing Custom tasks](custom_tasks.html#custom_tasks)

* * *

1. There are command line switches to change this behavior. See [Command-Line Interface](command_line_interface.html#command_line_interface)) 

2. There are command line switches to change this behavior. See [Command-Line Interface](command_line_interface.html#command_line_interface)) 

**Docs**

  * [User Manual](/userguide/userguide.html)
  * [DSL Reference](/dsl/)
  * [Release Notes](/release-notes.html)
  * [Javadoc](/javadoc/)

**News**

  * [Blog](https://blog.gradle.org/)
  * [Newsletter](https://newsletter.gradle.com/)
  * [Twitter](https://twitter.com/gradle)
  * [Status Page](https://status.gradle.com/)

**Products**

  * [Build Scans](https://gradle.com/build-scans/)
  * [Build Cache](https://gradle.com/build-cache/)
  * [Enterprise Docs](https://gradle.com/enterprise/resources/)

**Get Help**

  * [Forums](https://discuss.gradle.org/c/help-discuss)
  * [GitHub](https://github.com/gradle/)
  * [Training](https://gradle.com/training/)
  * [Services](https://gradle.org/services/)

##### Stay `UP-TO-DATE` on new features and news

By entering your email, you agree to our
[Terms](https://gradle.com/legal/terms-of-service/) and [Privacy
Policy](https://gradle.com/legal/privacy/), including receipt of emails. You
can unsubscribe at any time.

Subscribe

© [Gradle Inc.](https://gradle.com) 2020 All rights reserved.

[ gradle ](/)

[Careers](https://gradle.com/careers/) |
[Privacy](https://gradle.com/legal/privacy/) | [Terms of
Service](https://gradle.com/legal/terms-of-service/) |
[Contact](https://gradle.org/contact/)

