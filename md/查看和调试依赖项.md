

[ Gradle ](https://docs.gradle.org "Gradle Docs")

User Manual

  * Community Open Community Menu

[ Community Home ](https://gradle.org/)

[ Community Forums ](https://discuss.gradle.org/)

[ Community Plugins ](https://plugins.gradle.org)

  * [Training](https://gradle.com/training/)
  * News Open Community Menu

[ Newsletter ](https://newsletter.gradle.com)

[ Blog ](https://blog.gradle.org)

[ Twitter ](https://twitter.com/gradle)

  * [Enterprise](https://gradle.com)
  * [github](https://github.com/gradle/gradle "Gradle on GitHub")

  * [Docs Home](../userguide/userguide.html)
  * [Samples](../samples/index.html)
  * [Release Notes](../release-notes.html)
  * Gradle API
    * [Javadoc](../javadoc/index.html?overview-summary.html)
    * [Groovy DSL Reference](../dsl/index.html)
    * [Groovy DSL Primer](../userguide/groovy_build_script_primer.html)
    * [Kotlin DSL API](https://gradle.github.io/kotlin-dsl-docs/api/)
    * [Kotlin DSL Primer](../userguide/kotlin_dsl.html)

### User Manual

[ PDF ](../userguide/userguide.pdf)

  * [What is Gradle?](../userguide/what_is_gradle.html)
  * [Getting Started](../userguide/getting_started.html)
  * [Installing Gradle](../userguide/installation.html)
  * Upgrading Gradle...
    * [version 6.X to latest](../userguide/upgrading_version_6.html)
    * [version 5.X to 6.0](../userguide/upgrading_version_5.html)
    * [version 4.X to 5.0](../userguide/upgrading_version_4.html)
    * [Gradle's Feature Lifecycle](../userguide/feature_lifecycle.html)
  * Migrating to Gradle...
    * [from Maven](../userguide/migrating_from_maven.html)
    * [from Ant](../userguide/migrating_from_ant.html)
  * [Compatibility Notes](../userguide/compatibility.html)
  * [Troubleshooting Builds](../userguide/troubleshooting.html)

### Running Gradle Builds

  * Customizing Execution
    * [Configuring the Build Environment](../userguide/build_environment.html)
    * [Configuring the Gradle Daemon](../userguide/gradle_daemon.html)
    * [Using Initialization Scripts](../userguide/init_scripts.html)
  * [Executing Multi-Project Builds](../userguide/intro_multi_project_builds.html)
  * [Inspecting Gradle Builds](https://scans.gradle.com/)
  * Optimizing Build Times
    * [Build Performance Guide](https://guides.gradle.org/performance/)
    * [Enabling and Configuring the Build Cache](../userguide/build_cache.html)
    * [Using the Configuration Cache](../userguide/configuration_cache.html)

### Authoring Gradle Builds

  * Learning the Basics
    * [Introducing the Basics of Build Scripts](../userguide/tutorial_using_tasks.html)
    * [Working with Tasks](../userguide/more_about_tasks.html)
    * [Learning More About Build Scripts](../userguide/writing_build_scripts.html)
    * [Working with Files](../userguide/working_with_files.html)
    * [Using Gradle Plugins](../userguide/plugins.html)
    * [Understanding the Build Lifecycle](../userguide/build_lifecycle.html)
    * [Working with Logging](../userguide/logging.html)
    * [Avoiding Traps](../userguide/potential_traps.html)
  * Authoring Multi-Project Builds
    * [Creating a Basic Multi-Project Build](../userguide/multi_project_builds.html)
    * [Declaring Dependencies between Subprojects](../userguide/declaring_dependencies_between_subprojects.html)
    * [Sharing Build Logic between Subprojects](../userguide/sharing_build_logic_between_subprojects.html)
    * [Fine Tuning the Project Layout](../userguide/fine_tuning_project_layout.html)
    * [Understanding Configuration and Execution](../userguide/multi_project_configuration_and_execution.html)
  * Authoring Sustainable Builds
    * [Organizing Build Logic](../userguide/organizing_gradle_projects.html)
    * [Following Best Practices](../userguide/authoring_maintainable_build_scripts.html)
  * Advanced Techniques
    * [Developing Parallel Tasks](https://guides.gradle.org/using-the-worker-api/)
    * [Testing a Build with TestKit](../userguide/test_kit.html)
    * [Using Ant from Gradle](../userguide/ant.html)

### Authoring JVM Builds

  * [Building Java & JVM projects](../userguide/building_java_projects.html)
  * [Testing Java & JVM projects](../userguide/java_testing.html)
  * [Toolchains for Java projects](../userguide/toolchains.html)
  * [Managing Dependencies](../userguide/dependency_management_for_java_projects.html)
  * JVM Plugins
    * [Java Library Plugin](../userguide/java_library_plugin.html)
    * [Java Application Plugin](../userguide/application_plugin.html)
    * [Java Platform Plugin](../userguide/java_platform_plugin.html)
    * [Groovy Plugin](../userguide/groovy_plugin.html)
    * [Scala Plugin](../userguide/scala_plugin.html)

### Authoring C++/Swift Builds

  * [Building C++ projects](../userguide/building_cpp_projects.html)
  * [Testing C++ projects](../userguide/cpp_testing.html)
  * [Building Swift projects](../userguide/building_swift_projects.html)
  * [Testing Swift projects](../userguide/swift_testing.html)

### Working with Dependencies

  * Learning the Basics
    * [What is Dependency Management?](../userguide/core_dependency_management.html)
    * [Declaring Repositories](../userguide/declaring_repositories.html)
    * [Declaring Dependencies](../userguide/declaring_dependencies.html)
    * [Understanding Library and Application Differences](../userguide/library_vs_application.html)
    * [Viewing and Debugging Dependencies](../userguide/viewing_debugging_dependencies.html)
    * [Understanding Resolution](../userguide/dependency_resolution.html)
    * [Verifying dependencies](../userguide/dependency_verification.html)
  * Declaring Versions
    * [Declaring Versions and Ranges](../userguide/single_versions.html)
    * [Declaring Rich Versions](../userguide/rich_versions.html)
    * [Handling Changing Versions](../userguide/dynamic_versions.html)
    * [Locking Versions](../userguide/dependency_locking.html)
  * Controlling Transitives
    * [Upgrading Versions](../userguide/dependency_constraints.html)
    * [Downgrading and Excluding](../userguide/dependency_downgrade_and_exclude.html)
    * [Sharing Versions](../userguide/platforms.html)
    * [Aligning Dependencies](../userguide/dependency_version_alignment.html)
    * [Handling Mutually Exclusive Dependencies](../userguide/dependency_capability_conflict.html)
    * [Fixing Metadata](../userguide/component_metadata_rules.html)
    * [Customizing Resolution](../userguide/resolution_rules.html)
    * [Preventing accidental upgrades](../userguide/resolution_strategy_tuning.html)
  * Producing and Consuming Variants of Libraries
    * [Declaring Capabilities of a Library](../userguide/component_capabilities.html)
    * [Modeling Feature Variants and Optional Dependencies](../userguide/feature_variants.html)
    * [Understanding Variant Selection](../userguide/variant_model.html)
    * [Declaring Variant Attributes](../userguide/variant_attributes.html)
    * [Sharing Outputs of Projects](../userguide/cross_project_publications.html)
    * [Transforming Artifacts](../userguide/artifact_transforms.html)
  * Working in a Multi-repo Environment
    * [Composing Builds](../userguide/composite_builds.html)
  * Publishing Libraries
    * [Setting up Publishing](../userguide/publishing_setup.html)
    * [Understanding Gradle Module Metadata](../userguide/publishing_gradle_module_metadata.html)
    * [Signing Artifacts](../userguide/publishing_signing.html)
    * [Customizing Publishing](../userguide/publishing_customization.html)
    * [Maven Publish Plugin](../userguide/publishing_maven.html)
    * [Ivy Publish Plugin](../userguide/publishing_ivy.html)
  * [Terminology](../userguide/dependency_management_terminology.html)

### Extending Gradle

  * [Plugin Development Tutorials](https://gradle.org/guides/?q=Plugin%20Development)
  * [Writing Gradle Task Types](../userguide/custom_tasks.html)
  * [Writing Gradle Plugins](../userguide/custom_plugins.html)
  * [Writing Custom Gradle Types](../userguide/custom_gradle_types.html)
  * [Configuring Tasks Lazily](../userguide/lazy_configuration.html)
  * [Using Task Configuration Avoidance](../userguide/task_configuration_avoidance.html)

### Reference

  * [Core Plugins](../userguide/plugin_reference.html)
  * [Command-Line Interface](../userguide/command_line_interface.html)
  * [Gradle & Third-party Tools](../userguide/third_party_integration.html)
  * [The Gradle Wrapper](../userguide/gradle_wrapper.html)
  * [Gradle-managed Directories](../userguide/directory_layout.html)

# Viewing and debugging dependencies

version 6.7.1

Contents

  * Build scans
  * Listing dependencies in a project
  * Identifying which dependency version was selected and why
  * Resolving version conflicts
  * Resolving variant selection errors
  * Resolving unsafe configuration resolution errors

Gradle provides sufficient tooling to navigate large dependency graphs and
mitigate situations that can lead to [dependency
hell](https://en.wikipedia.org/wiki/Dependency_hell). Users can choose to
render the full graph of dependencies as well as identify the selection reason
and origin for a dependency. The origin of a dependency can be a declared
dependency in the build script or a transitive dependency in graph plus their
corresponding configuration. Gradle offers both capabilities through visual
representation via build scans and as command line tooling.

## Build scans

__ |

If you do not know what [build scan](https://scans.gradle.com/)s are, be sure
to check them out!  
  
---|---  
  
A build scan can visualize dependencies as a navigable, searchable tree.
Additional context information can be rendered by clicking on a specific
dependency in the graph.

![dependency management dependencies report build scan](img/dependency-
management-dependencies-report-build-scan.png)

Figure 1. Dependency tree in a build scan

## Listing dependencies in a project

Gradle can visualize the whole dependency tree for every
[configuration](declaring_dependencies.html#sec:what-are-dependency-
configurations) available in the project.

Rendering the dependency tree is particularly useful if you'd like to identify
which dependencies have been resolved at runtime. It also provides you with
information about any dependency conflict resolution that occurred in the
process and clearly indicates the selected version. The dependency report
always contains declared and transitive dependencies.

__ |

The `dependencies` task will only execute on a _single_ project. If you run
the task on the root project, it will show dependencies of the root project
and not of any subproject. Be sure to always target the [right
project](command_line_interface.html#executing_tasks_in_multi_project_builds)
when running `dependencies`.  
  
---|---  
  
Let's say you'd want to create tasks for your project that use the [JGit
library](https://www.eclipse.org/jgit/) to execute SCM operations e.g. to
model a release process. You can declare dependencies for any external tooling
with the help of a [custom
configuration](declaring_dependencies.html#sec:what-are-dependency-
configurations) so that it doesn't pollute other contexts like the compilation
classpath for your production source code.

Every Gradle project provides the task `dependencies` to render the so-called
_dependency report_ from the command line. By default the dependency report
renders dependencies for all configurations. To focus on the information about
one configuration, provide the optional parameter `--configuration`.

For example, to show dependencies that would be on the test runtime classpath
in a Java project, run:

    
    
    gradle -q dependencies --configuration testRuntimeClasspath

__ |  To see a list of all the pre-defined configurations added by the `java`
plugin, see [the documentation for the Java
Plugin](java_plugin.html#sec:java_plugin_and_dependency_management).  
---|---  
  
Example 1. Declaring the JGit dependency with a custom configuration

build.gradle

    
    
    repositories {
        jcenter()
    }
    
    configurations {
        scm
    }
    
    dependencies {
        scm 'org.eclipse.jgit:org.eclipse.jgit:4.9.2.201712150930-r'
    }

build.gradle.kts

    
    
    repositories {
        jcenter()
    }
    
    configurations {
        create("scm")
    }
    
    dependencies {
        "scm"("org.eclipse.jgit:org.eclipse.jgit:4.9.2.201712150930-r")
    }

### Example: Rendering the dependency report for a custom configuration

Output of **`gradle -q dependencies --configuration scm`**

    
    
    > gradle -q dependencies --configuration scm
    
    ------------------------------------------------------------
    Root project
    ------------------------------------------------------------
    
    scm
    \--- org.eclipse.jgit:org.eclipse.jgit:4.9.2.201712150930-r
         +--- com.jcraft:jsch:0.1.54
         +--- com.googlecode.javaewah:JavaEWAH:1.1.6
         +--- org.apache.httpcomponents:httpclient:4.3.6
         |    +--- org.apache.httpcomponents:httpcore:4.3.3
         |    +--- commons-logging:commons-logging:1.1.3
         |    \--- commons-codec:commons-codec:1.6
         \--- org.slf4j:slf4j-api:1.7.2
    
    A web-based, searchable dependency report is available by adding the --scan option.

The dependencies report provides detailed information about the dependencies
available in the graph. Any dependency that could not be resolved is marked
with `FAILED` in red color. Dependencies with the same coordinates that can
occur multiple times in the graph are omitted and indicated by an asterisk.
Dependencies that had to undergo conflict resolution render the requested and
selected version separated by a right arrow character.

## Identifying which dependency version was selected and why

Large software projects inevitably deal with an increased number of
dependencies either through direct or transitive dependencies. The
dependencies report provides you with the raw list of dependencies but does
not explain _why_ they have been selected or _which_ dependency is responsible
for pulling them into the graph.

Let's have a look at a concrete example. A project may request two different
versions of the same dependency either as direct or transitive dependency.
Gradle applies [version conflict
resolution](dependency_resolution.html#sec:version-conflict) to ensure that
only one version of the dependency exists in the dependency graph. In this
example the conflicting dependency is represented by `commons-codec:commons-
codec`.

Example 2. Declaring the JGit dependency and a conflicting dependency

build.gradle

    
    
    repositories {
        jcenter()
    }
    
    configurations {
        scm
    }
    
    dependencies {
        scm 'org.eclipse.jgit:org.eclipse.jgit:4.9.2.201712150930-r'
        scm 'commons-codec:commons-codec:1.7'
    }

build.gradle.kts

    
    
    repositories {
        jcenter()
    }
    
    configurations {
        create("scm")
    }
    
    dependencies {
        "scm"("org.eclipse.jgit:org.eclipse.jgit:4.9.2.201712150930-r")
        "scm"("commons-codec:commons-codec:1.7")
    }

The dependency tree in a [build scan](https://scans.gradle.com/) renders the
selection reason (conflict resolution) as well as the origin of a dependency
if you click on a dependency and select the "Required By" tab.

![dependency management dependency insight report build scan](img/dependency-
management-dependency-insight-report-build-scan.png)

Figure 2. Dependency insight capabilities in a build scan

Every Gradle project provides the task `dependencyInsight` to render the so-
called _dependency insight report_ from the command line. Given a dependency
in the dependency graph you can identify the selection reason and track down
the origin of the dependency selection. You can think of the dependency
insight report as the inverse representation of the dependency report for a
given dependency.

The task takes the following parameters:

`--dependency <dependency>` (mandatory)

    

Indicates which dependency to focus on. It can be a complete `group:name`, or
part of it. If multiple dependencies match, they are all printed in the
report.

`--configuration <name>` (mandatory)

    

Indicates which configuration to resolve for showing the dpendency
information. Note that the [Java plugin](java_plugin.html) wires a convention
with the value `compileClasspath`, making the parameter optional.

`--singlepath` (optional)

    

Indicates to render only a single path to the dependency. This might be useful
to trim down the output in large graphs.

__ |

The `dependencyInsight` task will only execute on a _single_ project. If you
run the task on the root project, it will show the dependency information of
the root project and not of any subproject. Be sure to always target the
[right
project](command_line_interface.html#executing_tasks_in_multi_project_builds)
when running `dependencyInsight`.  
  
---|---  
  
### Example: Using the dependency insight report for a given dependency

Output of **`gradle -q dependencyInsight --dependency commons-codec
--configuration scm`**

    
    
    > gradle -q dependencyInsight --dependency commons-codec --configuration scm
    commons-codec:commons-codec:1.7
       variant "default" [
          org.gradle.status = release (not requested)
       ]
       Selection reasons:
          - By conflict resolution : between versions 1.7 and 1.6
    
    commons-codec:commons-codec:1.7
    \--- scm
    
    commons-codec:commons-codec:1.6 -> 1.7
    \--- org.apache.httpcomponents:httpclient:4.3.6
         \--- org.eclipse.jgit:org.eclipse.jgit:4.9.2.201712150930-r
              \--- scm
    
    A web-based, searchable dependency report is available by adding the --scan option.

As indicated above, omitting the `--configuration` parameter in a project that
is not a Java project will lead to an error:

    
    
    > Dependency insight report cannot be generated because the input configuration was not specified.
      It can be specified from the command line, e.g: ':dependencyInsight --configuration someConf --dependency someDep'

For more information about configurations, see the documentation on declaring
dependencies, which describes [what dependency configurations
are](declaring_dependencies.html#sec:what-are-dependency-configurations).

### Understanding selection reasons

The "Selection reasons" part of the dependency insight report will list the
different reasons as to why a dependency was selected. Have a look at the
table below to understand the meaning of the different terms used:

Table 1. Selections reasons terminology Reason | Meaning  
---|---  
  
(Absent)

|

This means that no other reason than having a reference, direct or transitive,
was present  
  
Was requested : <text>

|

The dependency appears in the graph, and the inclusion came with a [`because`
text](declaring_dependencies.html#sec:documenting-dependencies).  
  
Was requested : didn't match versions <versions>

|

The dependency appears in the graph, with a [dynamic
version](dynamic_versions.html#sub:declaring_dependency_with_dynamic_version),
which did not include the listed versions. This can also be followed by a
`because` text.  
  
Was requested : reject version <versions>

|

The dependency appears in the graph, with a [rich version](rich_versions.html)
containing one or more `reject`. This can also be followed by a `because`
text.  
  
By conflict resolution : between versions <version>

|

The dependency appeared multiple times in the graph, with different version
requests. This resulted in [conflict
resolution](dependency_resolution.html#sec:version-conflict) to select the
most appropriate version.  
  
By constraint

|

A [dependency constraint](dependency_constraints.html#sec:adding-constraints-
transitive-deps) participated in the version selection. This can also be
followed by a `because` text.  
  
By ancestor

|

There is a [rich version](rich_versions.html) with a `strictly` in the graph
which enforces the version of this dependency.  
  
Selected by rule

|

A [dependency resolution rule](resolution_rules.html) overruled the default
selection process. This can also be followed by a `because` text.  
  
Rejection : <version> by rule because <text>

|

A `ComponentSelection.reject` [rejected the given
version](../dsl/org.gradle.api.artifacts.ComponentSelection.html#org.gradle.api.artifacts.ComponentSelection:reject\(java.lang.String\))
of the dependency  
  
Rejection: version <version>: <attributes information>

|

The dependency has a dynamic version, and some versions did not match the
[requested attributes](variant_model.html#sec:variant-aware-matching).  
  
Forced

|

The build
[enforces](dependency_downgrade_and_exclude.html#forced_dependencies_vs_strict_dependencies)
the version of the dependency.  
  
Note that if multiple selection reasons exist in the graph, they will all be
listed.

## Resolving version conflicts

If the selected version does not match your expectation, Gradle offers a
series of tools to help you [control transitive
dependencies](dependency_constraints.html).

## Resolving variant selection errors

Sometimes a selection error will happen at the [variant selection
level](variant_model.html). Have a look at the [dedicated
section](variant_model.html#sec:variant-select-errors) to understand these
errors and how to resolve them.

## Resolving unsafe configuration resolution errors

Configurations need to be resolved safely when crossing project boundaries
because resolving a configuration can have side effects on Gradle's project
model. Gradle can manage this safe access, but the configuration needs to be
accessed in a way that enables Gradle to do so. There are a number of ways a
configuration might be resolved unsafely and Gradle will produce a deprecation
warning for each unsafe access.

For example:

  * A task from one project directly resolves a configuration in another project.

  * A task specifies a configuration from another project as an input file collection.

  * A build script for a project resolves a configuration in another project during evaluation.

If your build has an unsafe access deprecation warning, it needs to be fixed.
It's a symptom of these bad practices and can cause strange and indeterminate
errors.

In most cases, this issue can be resolved by creating a cross-project
dependency on the other project. See the documentation for [sharing outputs
between projects](cross_project_publications.html#cross_project_publications)
for more information. If you find a use case that can't be resolved using
these techniques, please let us know by filing a [GitHub
Issue](https://github.com/gradle/gradle/issues) adhering to our issue
guidelines.

**Docs**

  * [User Manual](/userguide/userguide.html)
  * [DSL Reference](/dsl/)
  * [Release Notes](/release-notes.html)
  * [Javadoc](/javadoc/)

**News**

  * [Blog](https://blog.gradle.org/)
  * [Newsletter](https://newsletter.gradle.com/)
  * [Twitter](https://twitter.com/gradle)
  * [Status Page](https://status.gradle.com/)

**Products**

  * [Build Scans](https://gradle.com/build-scans/)
  * [Build Cache](https://gradle.com/build-cache/)
  * [Enterprise Docs](https://gradle.com/enterprise/resources/)

**Get Help**

  * [Forums](https://discuss.gradle.org/c/help-discuss)
  * [GitHub](https://github.com/gradle/)
  * [Training](https://gradle.com/training/)
  * [Services](https://gradle.org/services/)

##### Stay `UP-TO-DATE` on new features and news

By entering your email, you agree to our
[Terms](https://gradle.com/legal/terms-of-service/) and [Privacy
Policy](https://gradle.com/legal/privacy/), including receipt of emails. You
can unsubscribe at any time.

Subscribe

© [Gradle Inc.](https://gradle.com) 2020 All rights reserved.

[ gradle ](/)

[Careers](https://gradle.com/careers/) |
[Privacy](https://gradle.com/legal/privacy/) | [Terms of
Service](https://gradle.com/legal/terms-of-service/) |
[Contact](https://gradle.org/contact/)

